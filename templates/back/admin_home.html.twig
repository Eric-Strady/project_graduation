{% extends 'base.html.twig' %}

{% block title %}AMAP Pré-vert - Interface d'administration{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('css/admin_home.css') }}">
{% endblock %}

{% block nav %}
	{% include 'back/admin_nav.html.twig' %}
{% endblock %}

{% block body %}
	<div class="container">
		<header>
			<div class="row text-center">
				<div class="col-lg-12">
					<h2>Tableau de bord</h2>
				</div>
			</div>
		</header>

		<section id="contractsTimeLeft">
			<h3>Les contrats:</h3>
			<table class="table mt-4 mb-4">
				<thead class="thead-light">
					<tr>
						<th>Nom du contrat</th>
						<th>Temps restant (en jours)</th>
						<th>Gestion du contrat</th>
					</tr>
				</thead>
				<tbody>
					{% for contract in contracts %}
						<tr>
							<td>Contrat {{ contract.name }}</td>
							<td>{{ days_diff(contract.endingSeasonAt) }}</td>
							<td>
								<a href="{{ path('admin.contract.update', {id: contract.id}) }}" class="btn btn-warning">Modifier</a>
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</section>

		<section id="keyNumbers">
			<h3>Chiffres clés:</h3>
			<div class="row justify-content-center text-center mt-4 mb-4">
				<div class="col-lg-2" id="nbContracts">
					<div class="row">
						<div class="col-lg-12">
							<span>{{ nbContracts }}</span>
						</div>
						<div class="col-lg-12">
							<p>Contrats</p>
						</div>
					</div>
				</div>
				<div class="col-lg-2" id="nbPosts">
					<div class="row">
						<div class="col-lg-12">
							<span>{{ nbPosts }}</span>
						</div>
						<div class="col-lg-12">
							<p>Articles</p>
						</div>
					</div>
				</div>
				<div class="col-lg-2" id="nbMembers">
					<div class="row">
						<div class="col-lg-12">
							<span>{{ about.nbMembers }}</span>
						</div>
						<div class="col-lg-12">
							<p>Membres</p>
						</div>
					</div>
				</div>
				<div class="col-lg-2" id="annualMembershipFee">
					<div class="row">
						<div class="col-lg-12">
							<span>{{ about.annualMembershipFee }} €</span>
						</div>
						<div class="col-lg-12">
							<p>Adhésion annuelle</p>
						</div>
					</div>
				</div>
			</div>
		</section>
	</div>

{% endblock %}

{% block javascripts %}
{% endblock %}