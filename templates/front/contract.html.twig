{% extends 'base.html.twig' %}

{% block title %}AMAP Pré-vert - Contrat{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('css/contract.css') }}">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin=""/>
{% endblock %}

{% block body %}
	<div class="container">
		<header>
			<div class="row text-center">
				<div class="col-lg-12">
					<h2>Contrat {{ contract.name }}</h2>
				</div>
				<div class="col-lg-12 mt-5">
					{% if contract.imageName %}
						<img src="{{ asset('images/contracts/'~ contract.imageName ~'') }}" alt="Image contrat {{ contract.name }}" id="contractImage">
					{% else %}
						<img src="{{ asset('images/vegetables_basket.jpg') }}" alt="Panier de légumes" id="contractImage">
					{% endif %}
				</div>
			</div>
		</header>

		<section id="contractDescription">
			<div class="row">
				<div class="col">
					<p>Du {{ contract.startingSeasonAt|date("d/m/Y")}} au {{ contract.endingSeasonAt|date("d/m/Y")}}</p>
				</div>
			</div>
			<div class="row">
				<div class="col" id="description">
					<p>{{ contract.description }}</p>
				</div>
			</div>
			<div class="row">
				<div class="col">
					<p>Liste des produits du contrat:</p>
				</div>
			</div>
		</section>

		<section id="growerData">
			<div class="row">
				<div class="col-lg-6" id="map"></div>
				<div class="col-lg-6">
					<p>Informations sur le producteur</p>
				</div>
			</div>
		</section>
	</div>
{% endblock %}

{% block javascripts %}
	<script type="text/javascript">
		let latitude = {{ contract.growerGpsLat }};
		let longitude = {{ contract.growerGpsLng }};
		let markerTitle = "{{ contract.growerName }}";
	</script>
	{% include 'map/openStreetMap.html.twig' %}
{% endblock %}